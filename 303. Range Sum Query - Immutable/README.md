# 303. 区域和检索 - 数组不可变

给定一个整数数组  **nums**，求出数组从索引 **i** 到 **j**  (i ≤ j) 范围内元素的总和，包含 **i**, **j** 两点。

**示例：**

> 给定 nums = [-2, 0, 3, -5, 2, -1]，求和函数为 sumRange()
>
> sumRange(0, 2) -> 1
> sumRange(2, 5) -> -1
> sumRange(0, 5) -> -3

**说明：**

1. 你可以假设数组不可变。
2. 会 **多次** 调用 `sumRange` 方法。

# 思路

1. 首先，如果只是单纯的求 [i, j] 的和，那就太简单了。这题主要是考察 **多次** 调用 `sumRange` 方法，保证不超时。
2. 所以，你要是直接简单求和，耗时肯定达不到要求。
3. 其次，我想到使用一个二维数组，当求解 [i, j] 和时，直接返回 sums[i][j] 即可。求和过程中，先求解长度为 1 的解，再求解长度为 2, 3, ... 的解，我们可以反复利用已经求解过的区段的和。然而这样耗时依旧是 O(n^2) 的，耗时也没过关。
4. 最后，有一个规律其实很重要，即： **sum[i, j] = sum[0, j] - sum[0, i]**。
5. 有了上述规律，我们只需要一个一维数组，保存 [0, n] (0 <= n < nums.length) 的和即可，这样也只需要遍历一次数组即可。

# 实现

[NumArray.java](https://github.com/afei-cn/LeetCode/blob/master/303.%20Range%20Sum%20Query%20-%20Immutable/src/NumArray.java)